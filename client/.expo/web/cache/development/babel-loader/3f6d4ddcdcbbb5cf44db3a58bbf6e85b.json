{"ast":null,"code":"\nimport { validateUsername, validatePassword } from \"./Validation.js\";\nimport { Login } from \"../API/Login.js\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { getTransactions } from \"../\";\nvar LoginCheck = function LoginCheck(username, password, _ref) {\n  var setUser = _ref.setUser,\n    setPageID = _ref.setPageID,\n    setTransactions = _ref.setTransactions;\n  var usernamePrompt = validateUsername(username);\n  var passwordPrompt = validatePassword(password);\n  var loginSuccessful = false;\n  var userID = null;\n  if (usernamePrompt !== null) {\n    alert(usernamePrompt);\n  } else if (passwordPrompt !== null) {\n    alert(passwordPrompt);\n  } else {\n    var user = Login(username, password);\n    user.then(function (user) {\n      if (user != null) {\n        try {\n          AsyncStorage.setItem(\"userName\", username);\n          AsyncStorage.setItem(\"password\", password);\n        } catch (error) {\n          alert(error);\n        }\n        var transaction = alert(\"Login Successful\");\n        setUser(user);\n        setPageID(\"home\");\n      } else {\n        alert(\"Login Unsuccessful\");\n      }\n    });\n  }\n};\n\nexport { LoginCheck };","map":{"version":3,"names":["validateUsername","validatePassword","Login","AsyncStorage","getTransactions","LoginCheck","username","password","setUser","setPageID","setTransactions","usernamePrompt","passwordPrompt","loginSuccessful","userID","alert","user","then","setItem","error","transaction"],"sources":["/Users/gunwoo/Library/CloudStorage/OneDrive-Personal/College/2022Fall/hackathon/dPay/client/Login/LoginCheck.js"],"sourcesContent":["//create a function to check username and password\nimport {validateUsername, validatePassword} from \"./Validation.js\"\nimport {Login} from \"../API/Login.js\"\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport {getTransactions} from \"../\"\nconst LoginCheck = (username,password, {setUser,setPageID, setTransactions}) =>{\n\n    var usernamePrompt= validateUsername(username)\n    var passwordPrompt = validatePassword(password)\n    var loginSuccessful=false;\n    var userID=null\n    if (usernamePrompt !== null) {\n        alert(usernamePrompt)\n        \n    }\n    else if (passwordPrompt !== null) {\n        alert(passwordPrompt)\n    }\n    else {\n        //check database for username and password\n        const user = Login(username,password)\n        user.then((user)=> {\n            if (user != null) {\n              try {\n                AsyncStorage.setItem(\"userName\", username);\n                AsyncStorage.setItem(\"password\", password);\n              } catch (error) {\n                alert(error);\n              }\n              const transaction=\n              alert(\"Login Successful\");\n              setUser(user);\n              setPageID(\"home\");\n            } else {\n              //store username and password in local storageKey\n              alert(\"Login Unsuccessful\");\n            }\n        })\n        \n        \n        \n    }\n}\n\n//export function LoginCheck\nexport {LoginCheck}"],"mappings":";AACA,SAAQA,gBAAgB,EAAEC,gBAAgB;AAC1C,SAAQC,KAAK;AACb,OAAOC,YAAY,MAAM,2CAA2C;AACpE,SAAQC,eAAe;AACvB,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,QAAQ,EAACC,QAAQ,QAA0C;EAAA,IAAvCC,OAAO,QAAPA,OAAO;IAACC,SAAS,QAATA,SAAS;IAAEC,eAAe,QAAfA,eAAe;EAEtE,IAAIC,cAAc,GAAEX,gBAAgB,CAACM,QAAQ,CAAC;EAC9C,IAAIM,cAAc,GAAGX,gBAAgB,CAACM,QAAQ,CAAC;EAC/C,IAAIM,eAAe,GAAC,KAAK;EACzB,IAAIC,MAAM,GAAC,IAAI;EACf,IAAIH,cAAc,KAAK,IAAI,EAAE;IACzBI,KAAK,CAACJ,cAAc,CAAC;EAEzB,CAAC,MACI,IAAIC,cAAc,KAAK,IAAI,EAAE;IAC9BG,KAAK,CAACH,cAAc,CAAC;EACzB,CAAC,MACI;IAED,IAAMI,IAAI,GAAGd,KAAK,CAACI,QAAQ,EAACC,QAAQ,CAAC;IACrCS,IAAI,CAACC,IAAI,CAAC,UAACD,IAAI,EAAI;MACf,IAAIA,IAAI,IAAI,IAAI,EAAE;QAChB,IAAI;UACFb,YAAY,CAACe,OAAO,CAAC,UAAU,EAAEZ,QAAQ,CAAC;UAC1CH,YAAY,CAACe,OAAO,CAAC,UAAU,EAAEX,QAAQ,CAAC;QAC5C,CAAC,CAAC,OAAOY,KAAK,EAAE;UACdJ,KAAK,CAACI,KAAK,CAAC;QACd;QACA,IAAMC,WAAW,GACjBL,KAAK,CAAC,kBAAkB,CAAC;QACzBP,OAAO,CAACQ,IAAI,CAAC;QACbP,SAAS,CAAC,MAAM,CAAC;MACnB,CAAC,MAAM;QAELM,KAAK,CAAC,oBAAoB,CAAC;MAC7B;IACJ,CAAC,CAAC;EAIN;AACJ,CAAC;;AAGD,SAAQV,UAAU"},"metadata":{},"sourceType":"module"}