{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport styles from \"./HomeStyleSheet.js\";\nimport Svg, { Path, Use, Image } from \"react-native-svg\";\nimport SmallTransactions from \"../Transactions/Transactions.js\";\nimport { getGeoLocation } from \"../Location.js\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { getNearbyShops } from \"../API/Shops.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Home(_ref) {\n  var user = _ref.user,\n    setUser = _ref.setUser,\n    setPageID = _ref.setPageID,\n    transactions = _ref.transactions,\n    setTransactions = _ref.setTransactions;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    shops = _useState2[0],\n    setShops = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    location = _useState4[0],\n    setLocation = _useState4[1];\n  if (location == null) {\n    var location_promise = getGeoLocation();\n    location_promise.then(function (location) {\n      setLocation(location);\n      console.log(location);\n    });\n  }\n  if (user != null) {\n    return _jsxs(View, {\n      style: styles.container,\n      children: [_jsxs(View, {\n        style: styles.top,\n        children: [_jsx(View, {\n          style: styles.notification_container,\n          children: _jsx(Button, {\n            title: \"Notification\",\n            style: styles.notification_button,\n            children: \"Notification\"\n          })\n        }), _jsx(View, {\n          style: styles.username_container,\n          children: _jsx(Text, {\n            style: styles.username,\n            children: user.username\n          })\n        }), _jsx(View, {\n          style: styles.settings_container,\n          children: _jsx(Button, {\n            title: \"Settings\",\n            style: styles.settings,\n            onPress: function onPress() {\n              return setPageID(\"settings\");\n            }\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.body,\n        children: [_jsx(View, {\n          style: styles.balance_container,\n          children: _jsxs(Text, {\n            style: styles.balance,\n            children: [\"$\", user.balance.toFixed(2)]\n          })\n        }), _jsxs(View, {\n          style: styles.transaction_container1,\n          children: [_jsx(Text, {\n            style: styles.transaction_prompt,\n            children: \"Transactions\"\n          }), _jsx(ScrollView, {\n            style: styles.transaction_container2,\n            children: transactions.length == 0 ? _jsx(View, {\n              style: styles.empty,\n              children: _jsx(Text, {\n                style: styles.empty.text,\n                children: \"empty\"\n              })\n            }) : transactions.map(function (transaction) {\n              return _jsx(SmallTransactions, {\n                transaction: transaction,\n                setPageID: setPageID\n              }, transaction.id);\n            })\n          })]\n        }), _jsxs(View, {\n          style: styles.transaction_container1,\n          children: [_jsx(Text, {\n            style: styles.transaction_prompt,\n            children: \"Transactions\"\n          }), _jsx(ScrollView, {\n            style: styles.transaction_container2,\n            children: transactions.length == 0 ? _jsx(View, {\n              style: styles.empty,\n              children: _jsx(Text, {\n                style: styles.empty.text,\n                children: \"empty\"\n              })\n            }) : transactions.map(function (transaction) {\n              return _jsx(SmallTransactions, {\n                transaction: transaction,\n                setPageID: setPageID\n              }, transaction.id);\n            })\n          })]\n        })]\n      })]\n    });\n  } else {\n    setPageID(\"login\");\n  }\n}","map":{"version":3,"names":["React","useEffect","useState","styles","Svg","Path","Use","Image","SmallTransactions","getGeoLocation","LinearGradient","getNearbyShops","Home","user","setUser","setPageID","transactions","setTransactions","shops","setShops","location","setLocation","location_promise","then","console","log","container","top","notification_container","notification_button","username_container","username","settings_container","settings","body","balance_container","balance","toFixed","transaction_container1","transaction_prompt","transaction_container2","length","empty","text","map","transaction","id"],"sources":["/Users/gunwoo/Library/CloudStorage/OneDrive-Personal/College/2022Fall/hackathon/dPay/client/Home/Home.js"],"sourcesContent":["import React,{useEffect, useState} from \"react\";\nimport { StyleSheet, Text, View, TextInput, Button,ScrollView } from \"react-native\";\nimport styles from \"./HomeStyleSheet.js\";\nimport Svg, { Path, Use, Image } from \"react-native-svg\";\nimport SmallTransactions from \"../Transactions/Transactions.js\";\nimport { getGeoLocation } from \"../Location.js\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport {getNearbyShops } from \"../API/Shops.js\";\n\nexport default function Home({\n  user,\n  setUser,\n  setPageID,\n  transactions,\n  setTransactions,\n}) {\n  const [shops, setShops] = useState([]);\n  const [location,setLocation] = useState(null);\n  if(location==null){\n      const location_promise = getGeoLocation();\n    location_promise.then((location) => {\n      setLocation(location);\n      console.log(location)\n    })\n  }\n  \n\n \n\n  if (user != null) {\n    return (\n      <View style={styles.container}>\n        <View style={styles.top}>\n          <View style={styles.notification_container}>\n            <Button title=\"Notification\" style={styles.notification_button}>\n              Notification\n            </Button>\n          </View>\n          <View style={styles.username_container}>\n            <Text style={styles.username}>{user.username}</Text>\n          </View>\n          <View style={styles.settings_container}>\n            <Button\n              title=\"Settings\"\n              style={styles.settings}\n              onPress={() => setPageID(\"settings\")}\n            ></Button>\n          </View>\n        </View>\n        <View style={styles.body}>\n          <View style={styles.balance_container}>\n            <Text style={styles.balance}>${user.balance.toFixed(2)}</Text>\n          </View>\n          <View style={styles.transaction_container1}>\n            <Text style={styles.transaction_prompt}>Transactions</Text>\n\n            <ScrollView style={styles.transaction_container2}>\n              {transactions.length == 0 ? (\n                <View style={styles.empty}>\n                  <Text style={styles.empty.text}>empty</Text>\n                </View>\n              ) : (\n                transactions.map((transaction) => (\n                  <SmallTransactions\n                    key={transaction.id}\n                    transaction={transaction}\n                    setPageID={setPageID}\n                  ></SmallTransactions>\n                ))\n              )}\n            </ScrollView>\n          </View>\n          <View style={styles.transaction_container1}>\n            <Text style={styles.transaction_prompt}>Transactions</Text>\n\n            <ScrollView style={styles.transaction_container2}>\n              {transactions.length == 0 ? (\n                <View style={styles.empty}>\n                  <Text style={styles.empty.text}>empty</Text>\n                </View>\n              ) : (\n                transactions.map((transaction) => (\n                  <SmallTransactions\n                    key={transaction.id}\n                    transaction={transaction}\n                    setPageID={setPageID}\n                  ></SmallTransactions>\n                ))\n              )}\n            </ScrollView>\n          </View>\n          {/* <Shops location={location}></Shops> */}\n        </View>\n      </View>\n    );\n  } else {\n    setPageID(\"login\");\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}